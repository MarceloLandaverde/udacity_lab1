---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-25-90fa68a9b615> in <module>
      1 # Submit your automl run
      2 
----> 3 automl_run = exp.submit(automl_config,show_output=True)

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/core/experiment.py in submit(self, config, tags, **kwargs)
    217         submit_func = get_experiment_submit(config)
    218         with self._log_context("submit config {}".format(config.__class__.__name__)):
--> 219             run = submit_func(config, self.workspace, self.name, **kwargs)
    220         if tags is not None:
    221             run.set_tags(tags)

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/train/automl/automlconfig.py in _automl_static_submit(automl_config_object, workspace, experiment_name, **kwargs)
    106             compute_target,
    107             parent_run_id,
--> 108             show_output)
    109 
    110         automl_run.add_properties(global_tracking_info_registry.gather_all(settings.path))

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/train/automl/automlconfig.py in _start_execution(experiment, settings_obj, fit_params, run_config, compute_target, parent_run_id, show_output)
    263                 ignored_dependencies=package_utilities._PACKAGES_TO_IGNORE_VERSIONS
    264             )
--> 265         automl_run = _default_execution(experiment, settings_obj, fit_params, True, show_output, parent_run_id)
    266     elif is_managed:
    267         logger.info("Submitting local managed run.")

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/train/automl/automlconfig.py in _default_execution(experiment, settings_obj, fit_params, legacy_local, show_output, parent_run_id)
    130     automl_estimator = _azureautomlclient.AzureAutoMLClient(experiment, settings_obj)
    131 
--> 132     return automl_estimator.fit(**fit_params)
    133 
    134 

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/train/automl/_azureautomlclient.py in fit(self, run_configuration, compute_target, X, y, sample_weight, X_valid, y_valid, sample_weight_valid, cv_splits_indices, show_output, existing_run, training_data, validation_data, _script_run, parent_run_id, kwargs)
    325         training_data, validation_data = dataset_utilities.convert_inputs_dataset(
    326             training_data,
--> 327             validation_data
    328         )
    329 

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/automl/core/dataset_utilities.py in convert_inputs_dataset(training_data, validation_data)
     90     """
     91     return (
---> 92         _convert_to_trackable_definition(training_data),
     93         _convert_to_trackable_definition(validation_data)
     94     )

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/automl/core/dataset_utilities.py in _convert_to_trackable_definition(dataset)
    160 
    161 def _convert_to_trackable_definition(dataset: Any) -> Union[Any, Dataflow]:
--> 162     definition, trackable = _reference_dataset(dataset)
    163     if not trackable:
    164         module_logger.debug('Unable to convert input to trackable definition')

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/automl/core/dataset_utilities.py in _reference_dataset(dataset)
    183 
    184     _verify_dataset(dataset)
--> 185     return Dataflow.reference(dataset), True
    186 
    187 

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/dataprep/api/dataflow.py in reference(reference)
   2676         df = Dataflow(get_engine_api())
   2677         return df.add_step('Microsoft.DPrep.ReferenceBlock', {
-> 2678                                'reference': make_activity_reference(reference)
   2679                            })
   2680 

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/dataprep/api/references.py in make_activity_reference(reference)
     28 
     29     if is_dataset(reference):
---> 30         external_ref = reference_dataset(reference)
     31         return ActivityReference(reference_container_path=external_ref._package_path,
     32                                  reference_type=ActivityReferenceType.FILE)

/anaconda/envs/azureml_py36/lib/python3.6/site-packages/azureml/dataprep/api/_dataset_resolver.py in reference(dset)
     57     if (isinstance(dset, DatasetDefinition) and not (dset._workspace and dset._dataset_id)) \
     58             or (isinstance(dset, Dataset) and not (dset.workspace and dset.id)):
---> 59         raise ValueError('Cannot reference an in-memory dataset')
     60 
     61     dataset = None

ValueError: Cannot reference an in-memory dataset